# 운영체제

- 목차
    1. 운영체제가 하는일
    2. 운영체제의 역사
        1. 1940년대
        2. 1950년대 초반
        3. 1950년대 중후반
        4. 1960년대
        5. 1970년대 이후
    3. 운영체제의 구조
        1. 커널
    4. 하드웨어
        1. 폰 노이만 구조
        2. 메인보드
        3. CPU
        4. 메모리
    5. 컴퓨터 부팅 과정
    
## 운영체제가 하는일

 - 프로세스 관리
 - 메모리 관리
 - 하드웨어 관리
 - 파일 시스템 관리

## 운영체제의 역사

### 1940년대

1940년대 애니악이 발명된다. 애니악은 세계에서 가장 큰 스케일(약 30톤)의 전자디지털 계산기였다.

애니악은 특정 명령에 맞는 스위치와 배선을 연결해서 프로그래밍 했다. 한개의 프로그램을 작성하기위해 몇 주의 시간이 소요되었다.

애니악은 입출력을 위해서 IMB 펀치 카드를 이용했는데 입출력 속도가 굉장히 느리고 입출력 중에는 계산을 할 수 없었다.

### 1950년대 초반

진공관과 전선으로 만들어진 논리 회로를 아주 작은 크리로 만든 직접 회로(IC)가 개발됐다.

이를 통해 현대적인 컴퓨터 모습을 갖추게됐다.

이때는 CPU와 메모리가 있었지만 키보드, 모니터가 존재하지 않았고 펀치 카드를 통해 프로그래밍하고 결과는 프린터를 통해 출력됐다.

기존의 스위치, 배선을 통한 프로그래밍보다 훨씬 편해졌다.

### 1950년대 중후반

여러개의 프로그램을 순서대로 실행하는 '싱글스트림 배치시스템'이 개발되었다.

이때에는 CPU가 입출력을 하는 동안에는 계산을 할 수 없었는데 입출력을 담당하는 I/O 디바이스 컨트롤러를 만들어 입출력 중에도 CPU가 계산을 할 수 있도록 했다.

### 1960년대

메모리에 여러 프로그램을 올려두고 시간을 나누어 실행시키는 '시분할 시스템'이 개발됐다.

여러 프로그램 중 하나의 프로그램에서 입력을 기다리느라 프로그램을 실행하지 못하더라도 다른 프로그램이 실행되고 있기 때문에 CPU를 쉬지 않고 사용할 수 있었다.

한번에 여러 프로그램이 사용 가능해져서 한개의 컴퓨터를 여러 사람이 동시에 사용하는게 가능해졌다.

당시 컴퓨터는 비쌌기 때문에 하나의 컴퓨터를 두고 터미널이라는 단말기를 통해 여러 사용자들이 여러 터미널로 하나의 컴퓨터를 사용했다.

AT&T벨 연구소에서 C언어로 유닉스 운영체제를 개발했는데 '멀티 프로그래밍', '다중 사용자', '파일 시스템'을 구현한 운영체제였다.

메모리를 통해 멀티 프로그래밍을 사용하다보니 여러가지 문제가 발생했다.

이전 컴퓨터에서는 한가지의 프로그램만을 사용했기 때문에 메모리 주소를 지정해서 작성되었는데 여러개의 프로그램이 메모리에 올라가다보니 혼란이 생겼다.

이를 해결하기 위해서 하드웨어 적으로 '베이스 레지스터'라는것을 추가하여 프로그램의 시작 주소를 저장하고 모든 프로그램은 0번지에서 실행한다 가정하게됐다.

### 1970년대 이후

개인용 컴퓨터의 보급되었다. 애플의 '맥킨토시'와 마이크로소프트의 'MS-DOS'가 많이 사용됐다.

### 운영체제 발전의 방향성

CPU사용률과 비용절감을 위한 노력으로 오늘날의 운영체제가 탄생했다.

## 운영체제의 구조

### 커널

커널은 프로세스, 메모리, 저장장치를 관리한다. 사용자는 커널에 직접 접근할 수 없고 인터페이스를 통해서만 접근이 가능하다.

인터페이스에는 GUI와 CLI 두가지로 나눌수 있다. 이는 텍스트냐 그림이냐 차이만 있을뿐 커널에 접근한다는 목적은 같다.

어플리케이션은 시스템 콜을 통해서 커널에 접근할 수 있다.

예를들어 하드 디스크에 어플리케이션이 직접 데이터를 저장하면 중요한 데이터를 덮어쓰거나 다른 어플리케이션의 데이터를 덮어쓰는 문제가 발생할 수 있다.

시스템 콜을 이용하면 커널에서 제공하는 Write함수를 쓰게 되는데 그러면 운영체제가 알아서 하드디스크의 빈 공간에 저장하게 된다.

하드웨어와 커널의 인터페이스로는 드라이버를 사용한다.

커널은 여러종류의 하드웨어를 전부 지원해야하기 때문에 모든 종류의 프로그램을 미리 가지고있기는 힘들다.

때문에 하드웨어를 만든 제조사에서 드라이버를 만들어 제공하는 게 일반적이다.

## 하드웨어

### 폰 노이만 구조

오늘날 대부분의 컴퓨터는 프로그램 내장 방식의 '폰 노이만 구조'를 하고 있다.

예전 애니악은 하드웨어적으로(스위치와 배선) 프로그래밍을 했다.

때문에 수정을 위해서는 많은 시간이 필요했고 이를 해결하기 위해서 CPU와 메모리(RAM)을 두고 이들 사이는 버스(데이터 통로 개념)로 연결했다.

프로그램을 메모리에 올려서(내장해서) 실행시키는데 이를 프로그램 내장방식이라 한다.

### 메인보드

메인보드는 다른 하드웨어를 연결하는 장치이다.

장치 간 데이터를 전송하는 건 메인보드의 버스가 담당한다.

### CPU

CPU는 'Central Processing Unit'의 약자로 중앙처리장치라고 부른다.

산술논리 연산장치, 제어 장치, 레지스터 세가지로 구성되어 있다.

산술논리 연산장치는 CPU에서 실제로 데이터 연산을 담당한다.

제어 장치는 모든 장치들의 동작을 지시하고 제어하는 장치이다.

레지스터는 CPU내에서 계산을 위해 일시로 보관하는 장치이다.

### 메모리

메모리는 크게 RAM과 ROM으로 구분할 수 있다.

RAM(Random Access Memory)는 랜덤으로 데이터를 읽어도 저장된 위치와 상관 없이 읽는 속도가 같다.

RAM은 전력이 끊기면 데이터를 잃어버리기 때문에 메인 메모리로 사용된다.

ROM(Read Only Memory)는 전력이 끊겨도 데이터를 계속 보관할 수 있지만 데이터를 한 번 쓰면 수정이 불가하다.

때문에 ROM은 컴퓨터 부팅과 관련된 바이오스를 저장하는 데에 주로 사용된다.

## 컴퓨터 부팅 과정

ROM에 저장된 바이오스가 실행된다.

바이오스는 전원, CPU, 메모리, 키보드, 마우스, 하드디스크 등 주요 하드웨어에 이상이 없는지 확인한다.

만약 주요 장치에 이상이 있다면 오류음을 내며 부팅이 이뤄지지 않는다.

이상이 없다면 하드디스크에 있는 마스터 부트 레코드에 저장된 부트로더를 메모리로 가져와 실행한다.

만약 우분투와, 윈도우 두 운영체제가 설치된 컴퓨터라면 어느 운영체제를 실행하지 선택하는 화면이 나온다.

![](https://velog.velcdn.com/images/deonii/post/36d92835-20ac-4c80-a565-796d305c2e29/image.png)

운영체제를 선택하거나 운영체제가 하나면 바로 운영체제를 메모리로 불러오고 부팅이 완료된다.

이후 실행되는 프로그램은 메모리로 올라가 운영체제가 관리한다.